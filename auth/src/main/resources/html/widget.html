<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width,initial-scale=1.0" name="viewport">
    <meta content="Tobias Burdow" name="author"/>
    <meta content="comroid" name="publisher"/>
    <meta content="Making Software. Simply." name="description"/>
    <meta content="comroid, account" name="keywords"/>
    <meta content="index, follow" name="robots"/>

    <link href="https://cdn.comroid.org/favicon.ico" rel="icon">
    <link href="https://fonts.googleapis.com/css?family=Fira+Mono" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">

    <style>
        html {
            width: max-content !important;
            height: max-content !important;
        }

        body {
            font-family: "Fira Sans", sans-serif !important;
            font-size: smaller !important;
            color: #e3e3e3 !important;
        }

        a {
            color: inherit !important;
        }

        a:visited {
            color: inherit !important;
        }
    </style>

    <script src="api" type="application/javascript"></script>
    <script type="application/javascript">
        loginPanel = `<div id="loginPanel">
    <h2>Login to your comroid Account</h2>
    <form action="./login" method="post">
        <label for="emailInput">E-Mail</label>
        <input id="emailInput" name="email" title="E-Mail" type="text">
        <br/>
        <label for="passwordInput">Password</label>
        <input id="passwordInput" name="password" title="Password" type="password">
        <br/>
        <button type="submit">Login now</button>
    </form>
    <a onclick="content().innerHTML = registerPanel">Register an Account</a>
    </div>`;
        registerPanel = `<div id="registerPanel">
    <h2>Register a comroid Account</h2>
    <form action="./register" method="post">
        <label for="emailInput">E-Mail</label>
        <input id="emailInput" name="email" title="E-Mail" type="email">
        <br/>
        <label for="passwordInput">Password</label>
        <input id="passwordInput" name="password" title="Password" type="password">
        <br/>
        <input id="consent" required="required" type="checkbox">
        <label for="consent"><a href="https://comroid.org/#tos">Terms of Use</a> Accepted</label>
        <br/>
        <button type="submit">Register now</button>
    </form>
    <a onclick="content().innerHTML = loginPanel">Log In to an existing Account</a>
    </div>`;

        function initWidget() {
            console.log("auth - Initializing Widget");
            initData();
            if (isLoggedIn)
                document.getElementById('cookies').style.visibility = 'hidden';
        }
    </script>

    <title> comroid Account </title>
</head>
<body onload="initWidget()">
<div id="content">
    <div id="user_panel">
        <h2>Logged In</h2>
        <p>E-Mail: <a class="inject account.email"></a></p>
        <p>User ID: <a class="inject account.uuid"></a></p>
        <p><a href="logout">Log Out</a></p>
    </div>
</div>
<div id="cookies" style="position: absolute;height: 180px;background-color: #00274f;width: 320px;top: 0px;">
    <h2>By accessing this feature, you agree to the use of Cookies to store user-relevant data.</h2>
    <a onclick="document.getElementById('cookies').style.visibility = 'hidden'" style="cursor: pointer;">
        Okay, I don't care anyways
    </a>
</div>
</body>
</html>
