apply plugin: 'application'

group 'org.comroid'
version = rootProject.version
apply from: 'vars.gradle'

sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = 'org.comroid.status.server.StatusServer'

configurations {
    create 'web'
}

sourceSets {
    main.java.srcDirs = [file("$rootDir/src/server/java")]
    main.resources.srcDirs = [file("$rootDir/src/server/resources")]
    web.resources.srcDirs = [file("$rootDir/src/web")]
}

repositories {
    maven { url 'https://www.jitpack.io' }
    mavenLocal()
    maven {
        url "https://maven.jetbrains.space/comroid/repo"
        credentials.username "Anonymous.User"
        credentials.password "anonymous"
    }
    jcenter()
}

dependencies {
    implementation project(':status-api')

    compileOnly 'org.jetbrains:annotations:19.0.0'

    // usual dependencies
    implementation 'com.github.comroid-git.common-util:common-util:c14eec8f555baf299046a0dbb83a39b9513aa446'
    implementation 'com.github.comroid-git.common-util:uniform:c14eec8f555baf299046a0dbb83a39b9513aa446'
    //implementation 'org.comroid:common-util:1.5.3-SNAPSHOT'
    //implementation 'org.comroid:uniform:0.15.1-SNAPSHOT'

    // Javacord
    implementation 'org.javacord:javacord:3.0.5'
    implementation 'org.comroid:javacord-utilities:1.5.+'

    // logging dependencies
    implementation 'com.google.flogger:flogger:0.5.1'
    runtimeOnly 'com.google.flogger:flogger-log4j2-backend:0.5.1'
    runtimeOnly 'org.apache.logging.log4j:log4j-core:2.11.0'

    // runtime adapter dependencies
    runtimeOnly 'com.squareup.okhttp3:okhttp:4.5.0'
    runtimeOnly 'com.alibaba:fastjson:1.2.68'
}
